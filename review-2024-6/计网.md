# 计算机网络概述

## 计算机网络概念

### 定义

将具有**独立功能**的**多台计算机**通过**通信线路连接**，实现**资源共享**和信息传递的计算机系统

### 组成

- 终端系统\/资源子网: 提供共享的软件资源和硬件资源(如视频，音频)
- 通信子网: 提供信息交换的网络节点和通信线路(按网线理解)

### 网络类型

#### 按拓扑结构

- 星型
- 树型
- 总线型
- 环型
- 网状型

![拓扑](images/cm_topology.png)

#### 按范围分类

- 局域网 LAN
  - 小区，家中
- 城域网 MAN
  - 城市
- 广域网 WAN
  - 国家，省之间
- 个人区域网 PAN
  - 服务于个人

#### 按照传输方式

- 有线
  - IEEE802.3
  - IEEE802.11
- 无线
  - 无线局域网WLAN
  - 无线个域网WPAN

## 计算机网络体系结构

### 传输方式

#### 传输方式

1. 按传输方向分
    - 单工: 只能单方向传输
    - 双工: 在同一时间，先路上只允许一个方向的数据通过
    - 全双工: 双方能够同时进行数据通信
2. 按传输对象分
    - 单播: 1对1
    - 多播: 1对多
    - 广播: 1对all

#### 数据交换

1. 电路交换
    - 整个报文从头到尾连续传输，占用整条线路
2. 报文交换
    - 不会占用整个信道，整个报文先传送到相邻节点，全部存储下来查找换发表，再转发到下一个结点
3. 分组交换
    - 将数据包分组，之后传送到相邻结点，再查找转发表转发(分组传输)

#### 通信协议和体系结构

##### 网络协议三要素

- 语义
  - 控制信息每个部分的意义，规定了需要发出何种控制信息，以及完成的动作与做出什么样的响应。
- 语法
  - 用来规定信息格式，数据及控制信息的格式、编码及信号电平等
- 时序
  - 时序是对事件发生顺序的详细说明(也可称为“同步”)

语义表示要做什么，语法表示要怎么做，时序表示做的顺序。

##### OSI参考模型

1. 应用层
    - 提供网络服务和应用程序接口（如HTTP、FTP、SMTP）
2. 表示层
    - 处理数据格式和加密（如数据压缩、加密）
3. 会话层
    - 管理会话和连接（如建立、维护、终止会话）
4. 传输层
    - 提供端到端的通信和数据完整性（如TCP、UDP）
5. 网络层
    - 单位 分组，负责数据包的路由选择和转发（如IP地址、路由器）
6. 数据链路层
    - 单位 帧，负责节点之间的数据传输和错误检测（如MAC地址、以太网）
7. 物理层
    - 单位bit，处理物理传输介质（如电缆、光纤）和信号传输

##### TCP/IP参考模型

1. 应用层
    - 应用层
    - 表示层
    - 会话层
2. 传输层
3. 网际层
    - 网络层
4. 网络接口层
    - 数据链路层
    - 物理层

## 习题

1. **试从多个方面比较电路交换、报文交换和分组交换的主要优缺点**

    - 电路交换
        - 特点
            - 通信有三阶段：建立链接、通信、释放连接，**通信过程始终占用物理信道**
        - 优点
            - 静态分配传输带宽，建立连接后通信双方所需传输带宽不会再变
            - 双方通信不收其他用户影响，占用通信资源时间不受限制
        - 缺点
            - 通信线路利用率较低
            - 整个链接中只要有一条链路或交换机出现故障就会引发通信中断
    - 分组交换
        - 特点
            - 以**报文分组**作为传输单位，采用**存储转发**技术
        - 优点
            - 无连接建立释放截断，传送数据迅速
            - 动态分配带宽，合理运用各链路传输带宽
            - 采用分布式路由选择协议，某个节点或链路出现故障分组传送路由可以动态改变，继续传输数据
        - 缺点
            - 路由器存储转发需排队，造成时延
            - 动态分配传输带宽，各段链路带宽不同，当网络某处通信量突然增大，可能在网络中某处产生拥塞，延长数据传输时间
            - 分组必须携带控制信息，产生额外开销，且需要专门的管理和控制机制
    - 报文交换
        - 特点
            - 以**整个报文**为传输单位，采用**存储转发**技术
        - 优点
            - 省去分组与重装报文的过程
        - 缺点
            - 灵活性不如分组交换，且时延较大

2. **计算机网络有哪些常用的性能指标？**

    - 速率
        - 数据的传送速率
    - 带宽
        - 单位时间内从网络中一点到另一点能通过的最高数据率
    - 吞吐量
        - 单位时间内通过某个网络的数据量
    - 时延
        - 数据从网络一端到另一端的时间
    - 时延带宽积
        - 传播时延和带宽的乘积
    - 往返时间RTT
        - 发送数据到接受确认的时间
    - 利用率
        - 信道利用率: 信道有百分之几的时间被利用
        - 网络利用率: 全网络信道利用率的加权平均值

3. **假设信号在媒体上的传播速度为2.3×10^8m/s.媒体长度L分别为：**

    1. **10cm（网络接口卡）**
    2. **100m（局域网）**
    3. **100km（城域网）**
    4. **5000km（广域网）**

    **试计算出当数据率为1Mb/s和10Gb/s时在以上媒体中正在传播的比特数。**

    媒体长度为信道中数据的长度，计算传播时延(根据数据长度和传播速度计算已经传播了多长时间)，和数据率相乘得到正在传播的比特数

    解:

    1. 传播时延: $0.1\div(2.3×10^8)=4.35 \times 10^{-10}$ bits

        1Mb/s: $4.35 \times 10^{-10} \times 10^6=4.35 \times 10^{-4}$ bits

        1Gb/s: $4.35 \times 10 * 10^{-10} \times 10^9=4.35$ bits

    2. 传播时延: 传播时延: $100\div(2.3×10^8)=4.35 \times 10^{-7}$ bits

        1Mb/s: $4.35 \times 10^{-7} \times 10^6=0.435$ bits

        1Gb/s: $4.35 \times 10 * 10^{-7} \times 10^9=4.35 \times 10^3$ bits

    3. 传播时延: 传播时延: $(10 ^ 5)\div(2.3×10^8)=4.35 \times 10^{-4}$ bits

        1Mb/s: $4.35 \times 10^{-4} \times 10^6=435$ bits

        1Gb/s: $4.35 \times 10 * 10^{-4} \times 10^9=4.35 \times 10^6$ bits

    4. 计算方法与上面相同

4. **论述具有五层协议的网络体系结构的要点，包括各层的主要功能。**

    综合OSI和TCP/IP

    - 应用层: 直接性为用户的应用进程提供服务
    - 运输层: 向两台主机中进程之间的通信提供通用的数据传输服务，主要使用传输控制协议(TCP)或用户数据报协议(UDP)
    - 网络层: 把运输层的报文段或用户数据报封装成分组或包，通过路由器选择和转发
    - 数据链路层: 把网络层的IP数据包组装成帧，在两个相邻节点间的链路上传输
    - 物理层: 传输比特流

5. **假定要在网络上传送1.5MB的文件。设分组长度为1KB，往返时间RTT=80ms。传送数据之前还需要有建立TCP连接的时间，这时间时2\*RTT=160ms。试计算在以下几种情况下接收方收完该文件的最后一个比特需要的时间。**
    1. **数据发送速率为10Mbit/s，数据分组可以连续发送。**
    2. **数据发送速率为10Mbit/s，但每发送完一个分组后要等待一个RTT时间才能在发送下一个分组。**
    3. **数据发送速率极快，可以不考虑发送数据所需要的时间。但规定在每一个RTT往返时间内只能发送20个分组。**
    4. **数据发送速率极快，可以不考虑发送数据所需要的时间。但在第一个RTT往返时间内只能发送一个分组，在第二个RTT内可以发送两个分组，在第三个RTT内可以发送四个分组。**
